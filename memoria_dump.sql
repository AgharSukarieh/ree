PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO migrations VALUES(1,'0001_01_01_000001_create_cache_table',1);
INSERT INTO migrations VALUES(2,'0001_01_01_000002_create_jobs_table',1);
INSERT INTO migrations VALUES(3,'2025_10_20_154806_create_users_table',1);
INSERT INTO migrations VALUES(4,'2025_10_20_154808_create_activities_table',1);
INSERT INTO migrations VALUES(5,'2025_10_20_154809_create_analytical_skills_table',1);
INSERT INTO migrations VALUES(6,'2025_10_20_154811_create_certifications_table',1);
INSERT INTO migrations VALUES(7,'2025_10_20_154812_create_core_competencies_table',1);
INSERT INTO migrations VALUES(8,'2025_10_20_154814_create_experiences_table',1);
INSERT INTO migrations VALUES(9,'2025_10_20_154815_create_interests_table',1);
INSERT INTO migrations VALUES(10,'2025_10_20_154817_create_languages_table',1);
INSERT INTO migrations VALUES(11,'2025_10_20_154818_create_medical_skill_categories_table',1);
INSERT INTO migrations VALUES(12,'2025_10_20_154819_create_medical_skills_table',1);
INSERT INTO migrations VALUES(13,'2025_10_20_154821_create_memberships_table',1);
INSERT INTO migrations VALUES(14,'2025_10_20_154822_create_projects_table',1);
INSERT INTO migrations VALUES(15,'2025_10_20_154822_create_research_table',1);
INSERT INTO migrations VALUES(16,'2025_10_20_154824_create_skill_categories_table',1);
INSERT INTO migrations VALUES(17,'2025_10_20_154824_create_skills_table',1);
INSERT INTO migrations VALUES(18,'2025_10_20_154825_create_soft_skills_table',1);
INSERT INTO migrations VALUES(19,'2025_10_20_154826_create_wishes_table',1);
INSERT INTO migrations VALUES(20,'2025_10_20_160925_create_sessions_table',1);
CREATE TABLE IF NOT EXISTS "cache" ("key" varchar not null, "value" text not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "cache_locks" ("key" varchar not null, "owner" varchar not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "jobs" ("id" integer primary key autoincrement not null, "queue" varchar not null, "payload" text not null, "attempts" integer not null, "reserved_at" integer, "available_at" integer not null, "created_at" integer not null);
CREATE TABLE IF NOT EXISTS "job_batches" ("id" varchar not null, "name" varchar not null, "total_jobs" integer not null, "pending_jobs" integer not null, "failed_jobs" integer not null, "failed_job_ids" text not null, "options" text, "cancelled_at" integer, "created_at" integer not null, "finished_at" integer, primary key ("id"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS "users" ("qr_id" varchar not null, "name" varchar not null, "phone" varchar not null, "city" varchar not null, "job_title" varchar not null, "profile_summary" text not null, "email" varchar not null, "linkedin_profile" varchar not null, "github_profile" varchar not null, "profile_website" varchar not null, "profile_image" varchar not null, "major" varchar check ("major" in ('IT', 'Medicine', 'Engineering', 'Business')) not null, "status" integer not null default '1', "created_at" datetime, "updated_at" datetime, primary key ("qr_id"));
INSERT INTO users VALUES('USER001','Ahmed Hassan','+1234567890','Cairo','Software Developer','Experienced software developer with expertise in web development and mobile applications.','ahmed.hassan@example.com','https://linkedin.com/in/ahmedhassan','https://github.com/ahmedhassan','https://ahmedhassan.dev','profile1.jpg','IT',1,'2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO users VALUES('USER002','Dr. Sara Mohamed','+1234567891','Alexandria','Medical Doctor','Dedicated medical professional with specialization in internal medicine.','sara.mohamed@example.com','https://linkedin.com/in/saramohamed','','','profile2.jpg','Medicine',1,'2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "activities" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "activity_title" varchar not null, "organization" varchar not null, "description" text not null, "activity_date" date not null, "activity_link" varchar, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
INSERT INTO activities VALUES(1,'USER001','Tech Conference 2024','Tech Community Egypt','Participated in the annual tech conference as a speaker.','2024-03-15 00:00:00','https://techconf-egypt.com','2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "analytical_skills" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "skill_name" varchar not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "certifications" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "certifications_name" varchar not null, "issuing_org" varchar not null, "issue_date" date not null, "expiration_date" date not null, "link_driver" varchar not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "core_competencies" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "competency_name" varchar not null, "description" text not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "experiences" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "title" varchar not null, "company" varchar not null, "location" varchar not null, "start_date" varchar not null, "end_date" date, "description" text not null, "is_internship" integer not null default '0', "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
INSERT INTO experiences VALUES(1,'USER001','Senior Developer','Tech Solutions Inc.','Cairo','2022-01-15',NULL,'Lead development team for web applications.',0,'2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO experiences VALUES(2,'USER002','Resident Doctor','Alexandria General Hospital','Alexandria','2023-07-01',NULL,'Internal medicine residency program.',0,'2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "interests" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "interest_name" varchar not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
INSERT INTO interests VALUES(1,'USER001','Technology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO interests VALUES(2,'USER002','Technology','2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "languages" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "language_name" varchar not null, "proficiency_level" varchar check ("proficiency_level" in ('Beginner', 'Intermediate', 'Advanced', 'Fluent', 'Native')) not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
INSERT INTO languages VALUES(1,'USER001','Arabic','Native','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO languages VALUES(2,'USER001','English','Fluent','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO languages VALUES(3,'USER002','Arabic','Native','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO languages VALUES(4,'USER002','English','Fluent','2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "medical_skill_categories" ("id" integer primary key autoincrement not null, "category_name" varchar not null, "created_at" datetime, "updated_at" datetime);
INSERT INTO medical_skill_categories VALUES(1,'Clinical Skills','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(2,'Diagnostic Skills','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(3,'Surgical Skills','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(4,'Emergency Medicine','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(5,'Pediatric Care','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(6,'Geriatric Care','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(7,'Mental Health','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(8,'Radiology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(9,'Pathology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(10,'Pharmacology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(11,'Cardiology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(12,'Neurology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(13,'Oncology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(14,'Dermatology','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(15,'Orthopedics','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skill_categories VALUES(16,'Ophthalmology','2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "medical_skills" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "skill_name" varchar not null, "category_id" integer not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade, foreign key("category_id") references "medical_skill_categories"("id") on delete cascade);
INSERT INTO medical_skills VALUES(1,'USER002','Patient Diagnosis',2,'2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO medical_skills VALUES(2,'USER002','Emergency Response',4,'2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "memberships" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "organization_name" varchar not null, "membership_type" varchar not null, "start_date" date not null, "end_date" date, "membership_status" varchar, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "projects" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "project_title" varchar not null, "description" text not null, "technologies_used" integer not null, "link" varchar not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "research" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "title" varchar not null, "publication_year" integer not null, "link" varchar not null, "description" text not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "skill_categories" ("id" integer primary key autoincrement not null, "category_name" varchar not null, "created_at" datetime, "updated_at" datetime);
INSERT INTO skill_categories VALUES(1,'Programming Languages','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(2,'Web Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(3,'Mobile Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(4,'Database Management','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(5,'DevOps & Cloud','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(6,'Data Science & Analytics','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(7,'Machine Learning & AI','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(8,'Cybersecurity','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(9,'UI/UX Design','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(10,'Project Management','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(11,'Quality Assurance','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(12,'System Administration','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(13,'Network Administration','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(14,'Game Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(15,'Blockchain & Cryptocurrency','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(16,'IoT Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(17,'AR/VR Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(18,'Microservices Architecture','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(19,'API Development','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(20,'Version Control','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(21,'Testing Frameworks','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(22,'Performance Optimization','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(23,'Code Review','2025-10-20 17:48:15','2025-10-20 17:48:15');
INSERT INTO skill_categories VALUES(24,'Documentation','2025-10-20 17:48:15','2025-10-20 17:48:15');
CREATE TABLE IF NOT EXISTS "skills" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "skill_name" varchar not null, "category_id" integer not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade, foreign key("category_id") references "skill_categories"("id") on delete cascade);
INSERT INTO skills VALUES(1,'USER001','PHP',1,'2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO skills VALUES(2,'USER001','Laravel',2,'2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "soft_skills" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "soft_name" varchar not null, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
INSERT INTO soft_skills VALUES(1,'USER001','Leadership','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO soft_skills VALUES(2,'USER001','Communication','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO soft_skills VALUES(3,'USER002','Leadership','2025-10-20 17:48:16','2025-10-20 17:48:16');
INSERT INTO soft_skills VALUES(4,'USER002','Communication','2025-10-20 17:48:16','2025-10-20 17:48:16');
CREATE TABLE IF NOT EXISTS "wishes" ("id" integer primary key autoincrement not null, "qr_id" varchar not null, "sender_name" varchar not null, "message_text" text not null, "image" text, "signature" text, "created_at" datetime, "updated_at" datetime, foreign key("qr_id") references "users"("qr_id") on delete cascade);
CREATE TABLE IF NOT EXISTS "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"));
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('migrations',20);
INSERT INTO sqlite_sequence VALUES('skill_categories',24);
INSERT INTO sqlite_sequence VALUES('medical_skill_categories',16);
INSERT INTO sqlite_sequence VALUES('activities',1);
INSERT INTO sqlite_sequence VALUES('skills',2);
INSERT INTO sqlite_sequence VALUES('experiences',2);
INSERT INTO sqlite_sequence VALUES('languages',4);
INSERT INTO sqlite_sequence VALUES('interests',2);
INSERT INTO sqlite_sequence VALUES('soft_skills',4);
INSERT INTO sqlite_sequence VALUES('medical_skills',2);
CREATE INDEX "jobs_queue_index" on "jobs" ("queue");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE INDEX "users_qr_id_index" on "users" ("qr_id");
CREATE INDEX "activities_qr_id_index" on "activities" ("qr_id");
CREATE INDEX "analytical_skills_qr_id_index" on "analytical_skills" ("qr_id");
CREATE INDEX "certifications_qr_id_index" on "certifications" ("qr_id");
CREATE INDEX "core_competencies_qr_id_index" on "core_competencies" ("qr_id");
CREATE INDEX "experiences_qr_id_index" on "experiences" ("qr_id");
CREATE INDEX "interests_qr_id_index" on "interests" ("qr_id");
CREATE INDEX "languages_qr_id_index" on "languages" ("qr_id");
CREATE INDEX "medical_skills_qr_id_index" on "medical_skills" ("qr_id");
CREATE INDEX "medical_skills_category_id_index" on "medical_skills" ("category_id");
CREATE INDEX "memberships_qr_id_index" on "memberships" ("qr_id");
CREATE INDEX "projects_qr_id_index" on "projects" ("qr_id");
CREATE INDEX "research_qr_id_index" on "research" ("qr_id");
CREATE INDEX "skills_qr_id_index" on "skills" ("qr_id");
CREATE INDEX "skills_category_id_index" on "skills" ("category_id");
CREATE INDEX "soft_skills_qr_id_index" on "soft_skills" ("qr_id");
CREATE INDEX "wishes_qr_id_index" on "wishes" ("qr_id");
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id");
CREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity");
COMMIT;
